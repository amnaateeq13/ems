{% extends 'users/dashboard_base.html' %}

{% block content %}
<style>
    h2 {
        color: rgb(255, 255, 255);
        margin-bottom: 20px;
    }

    .search-bar {
        margin-bottom: 20px;
        display: flex;
        justify-content: flex-start;
    }

    .search-bar input {
        width: 1000px;
        padding: 10px;
        font-size: 14px;
        border: 1px solid #ccc;
        border-radius: 5px;
    }

    .custom-table {
        width: 100%;
        border-collapse: collapse;
        background-color: #fff;
        margin-bottom: 40px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        border-radius: 6px;
        overflow: hidden;
    }

    .custom-table thead {
        background-color: #004466;
        color: white;
    }

    .custom-table th, .custom-table td {
        padding: 12px 15px;
        text-align: left;
        border-bottom: 1px solid #ddd;
    }

    .btn {
        padding: 6px 12px;
        text-decoration: none;
        border-radius: 4px;
        font-size: 14px;
        margin-right: 8px;
        transition: background-color 0.3s ease;
        display: inline-block;
    }

    .btn-primary {
        background-color: #1d3557;
        color: white;
    }

    .btn-primary:hover {
        background-color: #16324f;
    }

    .btn-success {
        background-color: #2a9d8f;
        color: white;
    }

    .btn-success:hover {
        background-color: #21867a;
    }

    p {
        font-style: italic;
        color: #666;
    }
</style>

<h2 style="color: black;">Manage Exam</h2>


<div class="search-bar">
    <input type="text" id="searchInput" placeholder="Search by Subject, Code, Exam Title, or Date...">
</div>

<div id="exam_table_body">
    {% include 'exams/exam_table_body.html' %}
</div>


<script>
document.getElementById('searchInput').addEventListener('input', function() {
    let query = this.value;

    fetch(`{% url 'exams:search_exam_ajax' %}?q=${query}`)
        .then(response => response.json())
        .then(data => {
            document.getElementById('exam_table_body').innerHTML = data.html;
        });
});
</script>
{% endblock %}
