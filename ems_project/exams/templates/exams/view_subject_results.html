{% extends 'users/dashboard_base.html' %}
{% block content %}
<style>
    .results-container {
        margin: 30px;
        background-color: #ffffff;
        padding: 25px 30px;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .results-container h2 {
        color: #1d3557;
        text-align: center;
        margin-bottom: 20px;
    }

    .custom-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
    }

    .custom-table th,
    .custom-table td {
        padding: 12px 15px;
        border: 1px solid #ccc;
        text-align: center;
    }

    .custom-table th {
        background-color: #1d3557;
        color: white;
    }

    .custom-table tr:nth-child(even) {
        background-color: #f5f5f5;
    }

    .custom-table tr:hover {
        background-color: #e6f0ff;
    }

    .no-results {
        text-align: center;
        color: #555;
        font-size: 18px;
        padding: 20px;
    }
</style>

<div class="results-container">
    <h2>ðŸ“Š Results for Selected Subject</h2>

    {% if results %}
    <table class="custom-table">
        <thead>
            <tr>
                <th>Student ID</th>
                <th>Student</th>
                
                <th>Exam</th>
                <th>Obtained Marks</th>
                <th>Total Marks</th>
                <th>Percentage</th>
                <th>Grade</th>
                <th>Date</th>
            </tr>
        </thead>
        <tbody>
            {% for result in results %}
            <tr>
                <td>{{ result.student.roll_number }}</td>
                <td>{{ result.student.user.username }}</td>
                
                <td>{{ result.exam_name }}</td>
                <td>{{ result.obtained_marks }}</td>
                <td>{{ result.total_marks }}</td>
                <td>{{ result.percentage|floatformat:2 }}%</td>
                <td>{{ result.grade }}</td>
                <td>{{ result.date }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p class="no-results">No results found for this subject.</p>
    {% endif %}
</div>
{% endblock %}
