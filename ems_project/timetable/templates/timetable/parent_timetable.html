{% extends 'users/dashboard_base.html' %}
{% block content %}
<div class="timetable-container">
    <h2>Your Children's Timetables</h2>

    {% for child_data in child_timetables %}
        <div class="child-timetable">
            <h3>{{ child_data.child.user.get_full_name }} 
                ({{ child_data.child.roll_number }})
            </h3>

            <table class="timetable-table">
                <thead>
                    <tr>
                        <th>Day</th>
                        <th>Course</th>
                        <th>Teacher</th>
                        <th>Room</th>
                        <th>Time Slot</th>
                    </tr>
                </thead>
                <tbody>
                    {% for row in child_data.timetable %}
                    <tr>
                        <td>{{ row.get_day_display }}</td>
                        <td>{{ row.course.name }}</td>
                        <td>{{ row.teacher.username }}</td>
                        <td>{{ row.room }}</td>
                        <td>{{ row.time_slot }}</td>
                    </tr>
                    {% empty %}
                    <tr><td colspan="5">No timetable available for this child.</td></tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        <br>
    {% empty %}
        <p>No children assigned to your account.</p>
    {% endfor %}
</div>

<style>
.timetable-container {
    max-width: 1000px;
    margin: 40px auto;
    background: #f9f9f9;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}
.timetable-container h2 {
    text-align: center;
    margin-bottom: 25px;
    color: #333;
}
.child-timetable h3 {
    margin: 20px 0 10px;
    color: #007BFF;
    text-align: center;
}
.timetable-table {
    width: 100%;
    border-collapse: collapse;
}
.timetable-table th {
    background-color: #007BFF;
    color: white;
    padding: 12px;
    border: 1px solid #ddd;
    text-align: center;
}
.timetable-table td {
    padding: 10px;
    text-align: center;
    border: 1px solid #ddd;
}
.timetable-table tr:nth-child(even) {
    background-color: #f2f2f2;
}
.timetable-table tr:hover {
    background-color: #e9f5ff;
    transition: 0.2s;
}
</style>
{% endblock %}
